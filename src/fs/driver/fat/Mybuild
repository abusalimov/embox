package embox.fs.driver.fat

@DefaultImpl(fat_old)
abstract module fat {
	option number inode_quantity=16
	option number fat_descriptor_quantity=4
	option number fat_max_sector_size=512

	@IncludeExport(path="fs")
	source "fat.h"

	source "fat_common.c"
	source "fatfs_subr.c"

	depends embox.drivers.block_dev.block
}

module fat_old extends fat {
	source "fat.c"
	option number fat_max_sector_size=512

	depends embox.fs.node, embox.fs.driver.repo
	depends embox.fs.driver.devfs.devfs
	depends embox.mem.pagealloc.page_api
	depends embox.mem.misc.pool
}

module fat_dvfs extends fat {
	source "fat_dvfs.c"
	option number fat_max_sector_size=512

	depends embox.drivers.block_dev.block_common
	depends embox.fs.dvfs.dvfs
}

